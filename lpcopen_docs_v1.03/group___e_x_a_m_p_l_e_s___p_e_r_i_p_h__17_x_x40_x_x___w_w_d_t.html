<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LPCOpen Platform: LPC17xx/40xx Watchdog timer example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="driver.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">LPCOpen Platform
   &#160;<span id="projectnumber">v1.03</span>
   </div>
   <div id="projectbrief">LPCOpen Platform for NXP LPC Microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___e_x_a_m_p_l_e_s___p_e_r_i_p_h__17_x_x40_x_x___w_w_d_t.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">LPC17xx/40xx Watchdog timer example</div>  </div>
<div class="ingroups"><a class="el" href="group___e_x_a_m_p_l_e_s___p_e_r_i_p_h__17_x_x40_x_x.html">Peripheral examples</a></div></div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p><b>Example description</b><br/>
 This example shows how to use Windowed watchdog timer to generate interrupts to manage the watchdog timer. If the watchdog timer isn't 'fed' within it's window time, it will reset the device. The LED will toggle states on each watchdog feed event. You can also use a terminal program with the UART to select the feed event. If the feed is disabled, the chip will reset.<br/>
</p>
<p>The example works in one of 3 ways. If '1' is selected, WDT is fed by the sysTick at 20Hz and should never time out (fast LED). If '2' is selcted, the WDT is fed by the watchdog window interrupt (slow LED). If '3' is selected, the watchdog times out and resets the device.<br/>
</p>
<p><b>Special connection requirements</b><br/>
</p>
<ul>
<li>Embedded Artists' LPC1788 Developer's Kit:<br/>
</li>
<li>Embedded Artists' LPC4088 Developer's Kit:<br/>
 There are no special connection requirements for this example.<br/>
</li>
<li>LPCXpresso LPC1769:<br/>
 Need to connect with base board for using RS232/UART port.<br/>
</li>
</ul>
<p><b>Build procedures:</b><br/>
 <a class="el" href="_l_p_c_o_p_e_n_17_x_x40_x_x__b_u_i_l_d_p_r_o_c_s__k_e_i_l.html">LPC17xx/40xx example quickstart for Keil uVision4</a><br/>
 <a class="el" href="_l_p_c_o_p_e_n_17_x_x40_x_x__b_u_i_l_d_p_r_o_c_s__i_a_r.html">LPC17xx/40xx example quickstart for IAR EWARM</a><br/>
 <a class="el" href="_l_p_c_o_p_e_n_17_x_x40_x_x__b_u_i_l_d_p_r_o_c_s__x_p_r_e_s_s_o.html">LPC17xx/40xx example quickstart for Code Red Xpresso</a><br/>
</p>
<p><b>Supported boards and board setup:</b><br/>
 <a class="el" href="_l_p_c_o_p_e_n_17_x_x40_x_x__b_o_a_r_d__e_a1788.html">Embedded Artists' LPC1788 Developer's Kit</a><br/>
 <a class="el" href="_l_p_c_o_p_e_n_17_x_x40_x_x__b_o_a_r_d__e_a4088.html">Embedded Artists' LPC4088 Developer's Kit</a><br/>
 <a class="el" href="_l_p_c_o_p_e_n_17_x_x40_x_x__b_o_a_r_d__x_p_r_e_s_s_o_1769.html">NXP Xpresso LPC1769 board</a><br/>
</p>
<p><b>Submitting LPCOpen issues:</b><br/>
 <a class="el" href="_l_p_c_o_p_e_n__c_o_m_m_u_n_i_t_y.html">Community support for LPCOpen</a> </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga1a05d39db882f014ff8728e05f58c2c7"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e_s___p_e_r_i_p_h__17_x_x40_x_x___w_w_d_t.html#ga1a05d39db882f014ff8728e05f58c2c7">FEED_ON_SYSTICKINT</a>&#160;&#160;&#160;0</td></tr>
<tr class="separator:ga1a05d39db882f014ff8728e05f58c2c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3e8c9a52fb8426dc17f7366749e8ed1f"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e_s___p_e_r_i_p_h__17_x_x40_x_x___w_w_d_t.html#ga3e8c9a52fb8426dc17f7366749e8ed1f">FEED_ON_WARNINT</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga3e8c9a52fb8426dc17f7366749e8ed1f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga702070b3fe7833c30f03d931e8019ce6"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e_s___p_e_r_i_p_h__17_x_x40_x_x___w_w_d_t.html#ga702070b3fe7833c30f03d931e8019ce6">NO_FEED</a>&#160;&#160;&#160;2</td></tr>
<tr class="separator:ga702070b3fe7833c30f03d931e8019ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga1a3285e71476066fe1cc890e791e49d8"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e_s___p_e_r_i_p_h__17_x_x40_x_x___w_w_d_t.html#ga1a3285e71476066fe1cc890e791e49d8">wdt_handle</a> (void)</td></tr>
<tr class="separator:ga1a3285e71476066fe1cc890e791e49d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga5c4a24d843527cb8aed8e34240ee7737"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e_s___p_e_r_i_p_h__17_x_x40_x_x___w_w_d_t.html#ga5c4a24d843527cb8aed8e34240ee7737">WDT_IRQHandler</a> (void)</td></tr>
<tr class="memdesc:ga5c4a24d843527cb8aed8e34240ee7737"><td class="mdescLeft">&#160;</td><td class="mdescRight">watchdog timer Interrupt Handler  <a href="#ga5c4a24d843527cb8aed8e34240ee7737"></a><br/></td></tr>
<tr class="separator:ga5c4a24d843527cb8aed8e34240ee7737"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab5e09814056d617c521549e542639b7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e_s___p_e_r_i_p_h__17_x_x40_x_x___w_w_d_t.html#gab5e09814056d617c521549e542639b7e">SysTick_Handler</a> (void)</td></tr>
<tr class="memdesc:gab5e09814056d617c521549e542639b7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">SysTick Interrupt Handler.  <a href="#gab5e09814056d617c521549e542639b7e"></a><br/></td></tr>
<tr class="separator:gab5e09814056d617c521549e542639b7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e_s___p_e_r_i_p_h__17_x_x40_x_x___w_w_d_t.html#ga840291bc02cba5474a4cb46a9b9566fe">main</a> (void)</td></tr>
<tr class="memdesc:ga840291bc02cba5474a4cb46a9b9566fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Main entry point.  <a href="#ga840291bc02cba5474a4cb46a9b9566fe"></a><br/></td></tr>
<tr class="separator:ga840291bc02cba5474a4cb46a9b9566fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:ga09f5ceac192b7b92e29c0badcc51db08"><td class="memItemLeft" align="right" valign="top">static volatile int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e_s___p_e_r_i_p_h__17_x_x40_x_x___w_w_d_t.html#ga09f5ceac192b7b92e29c0badcc51db08">wdtFeedState</a></td></tr>
<tr class="separator:ga09f5ceac192b7b92e29c0badcc51db08"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9d2defc76051664aa237611ff3b09658"><td class="memItemLeft" align="right" valign="top">static volatile bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e_s___p_e_r_i_p_h__17_x_x40_x_x___w_w_d_t.html#ga9d2defc76051664aa237611ff3b09658">On</a> = false</td></tr>
<tr class="separator:ga9d2defc76051664aa237611ff3b09658"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga1a05d39db882f014ff8728e05f58c2c7"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FEED_ON_SYSTICKINT&#160;&#160;&#160;0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html#l00073">73</a> of file <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html">watchdog.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3e8c9a52fb8426dc17f7366749e8ed1f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FEED_ON_WARNINT&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html#l00074">74</a> of file <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html">watchdog.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga702070b3fe7833c30f03d931e8019ce6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define NO_FEED&#160;&#160;&#160;2</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html#l00075">75</a> of file <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html">watchdog.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga840291bc02cba5474a4cb46a9b9566fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Main entry point. </p>
<p>Main program body.</p>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>
<p>defined(CHIP_LPC175X_6X) </p>

<p>Definition at line <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html#l00148">148</a> of file <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html">watchdog.c</a>.</p>

</div>
</div>
<a class="anchor" id="gab5e09814056d617c521549e542639b7e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SysTick_Handler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>SysTick Interrupt Handler. </p>
<p>SysTick 1mS tick handler.</p>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Systick interrupt handler feeds WWDT </dd></dl>

<p>Definition at line <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html#l00136">136</a> of file <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html">watchdog.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga1a3285e71476066fe1cc890e791e49d8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static void wdt_handle </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>defined(CHIP_LPC175X_6X) </p>

<p>Definition at line <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html#l00089">89</a> of file <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html">watchdog.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga5c4a24d843527cb8aed8e34240ee7737"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void WDT_IRQHandler </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>watchdog timer Interrupt Handler </p>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Handles watchdog timer warning and timeout events </dd></dl>

<p>Definition at line <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html#l00126">126</a> of file <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html">watchdog.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="ga9d2defc76051664aa237611ff3b09658"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile bool On = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html#l00078">78</a> of file <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html">watchdog.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga09f5ceac192b7b92e29c0badcc51db08"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">volatile int wdtFeedState</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html#l00077">77</a> of file <a class="el" href="lpc17xx__40xx_2examples_2periph_2periph__watchdog_2watchdog_8c_source.html">watchdog.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri May 10 2013 10:43:09 for LPCOpen Platform by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
