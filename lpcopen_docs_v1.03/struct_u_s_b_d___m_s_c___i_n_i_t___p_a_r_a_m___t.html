<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LPCOpen Platform: USBD_MSC_INIT_PARAM_T Struct Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="driver.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">LPCOpen Platform
   &#160;<span id="projectnumber">v1.03</span>
   </div>
   <div id="projectbrief">LPCOpen Platform for NXP LPC Microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li class="current"><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="classes.html"><span>Data&#160;Structure&#160;Index</span></a></li>
      <li><a href="functions.html"><span>Data&#160;Fields</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('struct_u_s_b_d___m_s_c___i_n_i_t___p_a_r_a_m___t.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-attribs">Data Fields</a>  </div>
  <div class="headertitle">
<div class="title">USBD_MSC_INIT_PARAM_T Struct Reference<div class="ingroups"><a class="el" href="group___u_s_b_d___m_s_c.html">Mass Storage Class (MSC) Function Driver</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Mass Storage class function driver initilization parameter data structure. </p>
<p>This data structure is used to pass initialization parameters to the Mass Storage class function driver's init function. </p>

<p>Definition at line <a class="el" href="usbd__api_8h_source.html#l00110">110</a> of file <a class="el" href="usbd__api_8h_source.html">usbd_api.h</a>.</p>
</div>
<p><code>#include &quot;<a class="el" href="usbd__api_8h_source.html">usbd_api.h</a>&quot;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Data Fields</h2></td></tr>
<tr class="memitem:a5ba2f6f78705b63f0788f9b85f7f104c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d___m_s_c___i_n_i_t___p_a_r_a_m___t.html#a5ba2f6f78705b63f0788f9b85f7f104c">mem_base</a></td></tr>
<tr class="separator:a5ba2f6f78705b63f0788f9b85f7f104c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3f6a3b0b58cbdacf4ce9a0c9b3d64794"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d___m_s_c___i_n_i_t___p_a_r_a_m___t.html#a3f6a3b0b58cbdacf4ce9a0c9b3d64794">mem_size</a></td></tr>
<tr class="separator:a3f6a3b0b58cbdacf4ce9a0c9b3d64794"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad248ce6b12fca0e041dceb12caf990fd"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d___m_s_c___i_n_i_t___p_a_r_a_m___t.html#ad248ce6b12fca0e041dceb12caf990fd">InquiryStr</a></td></tr>
<tr class="separator:ad248ce6b12fca0e041dceb12caf990fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1ef0815a72f7fb693a902e4a737a13c9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d___m_s_c___i_n_i_t___p_a_r_a_m___t.html#a1ef0815a72f7fb693a902e4a737a13c9">BlockCount</a></td></tr>
<tr class="separator:a1ef0815a72f7fb693a902e4a737a13c9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab733a42cbc069f09f55bfa7bdc166755"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d___m_s_c___i_n_i_t___p_a_r_a_m___t.html#ab733a42cbc069f09f55bfa7bdc166755">BlockSize</a></td></tr>
<tr class="separator:ab733a42cbc069f09f55bfa7bdc166755"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aabec868bf4472f00a72dccebaafce27c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d___m_s_c___i_n_i_t___p_a_r_a_m___t.html#aabec868bf4472f00a72dccebaafce27c">MemorySize</a></td></tr>
<tr class="separator:aabec868bf4472f00a72dccebaafce27c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a52b13bd771cbbf1d3057b08d31ddf0f0"><td class="memItemLeft" align="right" valign="top">uint8_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d___m_s_c___i_n_i_t___p_a_r_a_m___t.html#a52b13bd771cbbf1d3057b08d31ddf0f0">intf_desc</a></td></tr>
<tr class="separator:a52b13bd771cbbf1d3057b08d31ddf0f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afcc472785d4821787a8d8f36f5f7b64e"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d___m_s_c___i_n_i_t___p_a_r_a_m___t.html#afcc472785d4821787a8d8f36f5f7b64e">MSC_Write</a> )(<a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> offset, uint8_t **src, <a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> length)</td></tr>
<tr class="separator:afcc472785d4821787a8d8f36f5f7b64e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adb394fb2c4087d9b3183b262fe5347a9"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d___m_s_c___i_n_i_t___p_a_r_a_m___t.html#adb394fb2c4087d9b3183b262fe5347a9">MSC_Read</a> )(<a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> offset, uint8_t **dst, <a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> length)</td></tr>
<tr class="separator:adb394fb2c4087d9b3183b262fe5347a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a680e2f0b1652351274e3292bf468d26c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_8h.html#a905255056c349318139d94aa4523d516">ErrorCode_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d___m_s_c___i_n_i_t___p_a_r_a_m___t.html#a680e2f0b1652351274e3292bf468d26c">MSC_Verify</a> )(<a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> offset, uint8_t dst[], <a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> length)</td></tr>
<tr class="separator:a680e2f0b1652351274e3292bf468d26c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2077ff592548ef19518160bc214985f"><td class="memItemLeft" align="right" valign="top">void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d___m_s_c___i_n_i_t___p_a_r_a_m___t.html#aa2077ff592548ef19518160bc214985f">MSC_GetWriteBuf</a> )(<a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> offset, uint8_t **buff_adr, <a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> length)</td></tr>
<tr class="separator:aa2077ff592548ef19518160bc214985f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac66ec7976a575a4fd20bc25d3f4cbeba"><td class="memItemLeft" align="right" valign="top"><a class="el" href="error_8h.html#a905255056c349318139d94aa4523d516">ErrorCode_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct_u_s_b_d___m_s_c___i_n_i_t___p_a_r_a_m___t.html#ac66ec7976a575a4fd20bc25d3f4cbeba">MSC_Ep0_Hdlr</a> )(<a class="el" href="group___u_s_b_d___core.html#gafdbb2204d929cb9d75736bd2b42342ac">USBD_HANDLE_T</a> <a class="el" href="dfuutil__programming__dfu__ops_8c.html#afcf3f502788ab453c73eadfac83159a1">hUsb</a>, void *data, <a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> <a class="el" href="group___e_x_a_m_p_l_e_s___p_e_r_i_p_h__17_x_x40_x_x___s_d_c.html#gae3dac2afeb0440fd9fc1993b09d81676">event</a>)</td></tr>
<tr class="separator:ac66ec7976a575a4fd20bc25d3f4cbeba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Field Documentation</h2>
<a class="anchor" id="a1ef0815a72f7fb693a902e4a737a13c9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> BlockCount</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Number of blocks present in the mass storage device </p>

<p>Definition at line <a class="el" href="usbd__api_8h_source.html#l00117">117</a> of file <a class="el" href="usbd__api_8h_source.html">usbd_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="ab733a42cbc069f09f55bfa7bdc166755"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> BlockSize</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Block size in number of bytes </p>

<p>Definition at line <a class="el" href="usbd__api_8h_source.html#l00118">118</a> of file <a class="el" href="usbd__api_8h_source.html">usbd_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="ad248ce6b12fca0e041dceb12caf990fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t * InquiryStr</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pointer to the 28 character string. This string is sent in response to the SCSI Inquiry command. </p>
<dl class="section note"><dt>Note</dt><dd>The data pointed by the pointer should be of global scope.</dd></dl>
<p>Pointer to the 28 character string. This string is sent in response to the SCSI Inquiry command. </p>
<dl class="section note"><dt>Note</dt><dd>The data pointed by the pointer should be of global scope. </dd></dl>

<p>Definition at line <a class="el" href="usbd__api_8h_source.html#l00116">116</a> of file <a class="el" href="usbd__api_8h_source.html">usbd_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="a52b13bd771cbbf1d3057b08d31ddf0f0"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t * intf_desc</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Pointer to the interface descriptor within the descriptor array (<em>high_speed_desc</em>) passed to Init() through <a class="el" href="struct_u_s_b___c_o_r_e___d_e_s_c_s___t.html">USB_CORE_DESCS_T</a> structure. The stack assumes both HS and FS use same BULK endpoints.</p>
<p>Pointer to the interface descriptor within the descriptor array (<em>high_speed_desc</em>) passed to Init() through <a class="el" href="struct_u_s_b___c_o_r_e___d_e_s_c_s___t.html">USB_CORE_DESCS_T</a> structure. The stack assumes both HS and FS use same BULK endpoints. </p>

<p>Definition at line <a class="el" href="usbd__api_8h_source.html#l00126">126</a> of file <a class="el" href="usbd__api_8h_source.html">usbd_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="a5ba2f6f78705b63f0788f9b85f7f104c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> mem_base</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Base memory location from where the stack can allocate data and buffers. </p>
<dl class="section note"><dt>Note</dt><dd>The memory address set in this field should be accessible by USB DMA controller. Also this value should be aligned on 4 byte boundary.</dd></dl>
<p>Base memory location from where the stack can allocate data and buffers. </p>
<dl class="section note"><dt>Note</dt><dd>The memory address set in this field should be accessible by USB DMA controller. Also this value should be aligned on 4 byte boundary. </dd></dl>

<p>Definition at line <a class="el" href="usbd__api_8h_source.html#l00113">113</a> of file <a class="el" href="usbd__api_8h_source.html">usbd_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="a3f6a3b0b58cbdacf4ce9a0c9b3d64794"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> mem_size</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The size of memory buffer which stack can use. </p>
<dl class="section note"><dt>Note</dt><dd>The <em>mem_size</em> should be greater than the size returned by USBD_MSC_API::GetMemSize() routine.</dd></dl>
<p>The size of memory buffer which stack can use. </p>
<dl class="section note"><dt>Note</dt><dd>The <em>mem_size</em> should be greater than the size returned by USBD_MSC_API::GetMemSize() routine. </dd></dl>

<p>Definition at line <a class="el" href="usbd__api_8h_source.html#l00114">114</a> of file <a class="el" href="usbd__api_8h_source.html">usbd_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="aabec868bf4472f00a72dccebaafce27c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> MemorySize</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Memory size in number of bytes </p>

<p>Definition at line <a class="el" href="usbd__api_8h_source.html#l00119">119</a> of file <a class="el" href="usbd__api_8h_source.html">usbd_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="ac66ec7976a575a4fd20bc25d3f4cbeba"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_8h.html#a905255056c349318139d94aa4523d516">ErrorCode_t</a>(* MSC_Ep0_Hdlr)(<a class="el" href="group___u_s_b_d___core.html#gafdbb2204d929cb9d75736bd2b42342ac">USBD_HANDLE_T</a> <a class="el" href="dfuutil__programming__dfu__ops_8c.html#afcf3f502788ab453c73eadfac83159a1">hUsb</a>, void *data, <a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> <a class="el" href="group___e_x_a_m_p_l_e_s___p_e_r_i_p_h__17_x_x40_x_x___s_d_c.html#gae3dac2afeb0440fd9fc1993b09d81676">event</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Optional user overridable function to replace the default MSC class handler.</p>
<p>The application software could override the default EP0 class handler with their own by providing the handler function address as this data member of the parameter structure. Application which like the default handler should set this data member to zero before calling the USBD_MSC_API::Init(). <br/>
 </p>
<dl class="section note"><dt>Note</dt><dd></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">hUsb</td><td>Handle to the USB device stack. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">data</td><td>Pointer to the data which will be passed when callback function is called by the stack. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">event</td><td>Type of endpoint event. See <a class="el" href="group___u_s_b_d___h_w.html#ga61dde6aa35d2912927ef1b185eedaa13">USBD_EVENT_T</a> for more details. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The call back should returns <a class="el" href="error_8h.html#a905255056c349318139d94aa4523d516">ErrorCode_t</a> type to indicate success or error condition. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">LPC_OK</td><td>On success. </td></tr>
    <tr><td class="paramname">ERR_USBD_UNHANDLED</td><td>Event is not handled hence pass the event to next in line. </td></tr>
    <tr><td class="paramname">ERR_USBD_xxx</td><td>For other error conditions.</td></tr>
  </table>
  </dd>
</dl>
<p>Optional user overridable function to replace the default MSC class handler.</p>
<p>The application software could override the default EP0 class handler with their own by providing the handler function address as this data member of the parameter structure. Application which like the default handler should set this data member to zero before calling the USBD_MSC_API::Init(). <br/>
 </p>
<dl class="section note"><dt>Note</dt><dd></dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hUsb</td><td>Handle to the USB device stack. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the data which will be passed when callback function is called by the stack. </td></tr>
    <tr><td class="paramname">event</td><td>Type of endpoint event. See <a class="el" href="group___u_s_b_d___h_w.html#ga61dde6aa35d2912927ef1b185eedaa13">USBD_EVENT_T</a> for more details. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The call back should returns <a class="el" href="error_8h.html#a905255056c349318139d94aa4523d516">ErrorCode_t</a> type to indicate success or error condition. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">LPC_OK</td><td>On success. </td></tr>
    <tr><td class="paramname">ERR_USBD_UNHANDLED</td><td>Event is not handled hence pass the event to next in line. </td></tr>
    <tr><td class="paramname">ERR_USBD_xxx</td><td>For other error conditions. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="usbd__api_8h_source.html#l00134">134</a> of file <a class="el" href="usbd__api_8h_source.html">usbd_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="aa2077ff592548ef19518160bc214985f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* MSC_GetWriteBuf)(<a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> offset, uint8_t **buff_adr, <a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> length)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Optional callback function to optimize MSC_Write buffer transfer.</p>
<p>This function is provided by the application software. This function gets called when host sends SCSI_WRITE10/SCSI_WRITE12 command. The callback function should update the <em>buff_adr</em> pointer so that the stack transfers the data directly to the target buffer. /note The updated buffer address should be accessable by USB DMA master. If user doesn't want to use zero-copy model, then the user should not update the buffer pointer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Destination start address. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buf</td><td>Buffer containing the data sent by the host. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Number of bytes to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing.</dd></dl>
<p>Optional callback function to optimize MSC_Write buffer transfer.</p>
<p>This function is provided by the application software. This function gets called when host sends SCSI_WRITE10/SCSI_WRITE12 command. The callback function should update the <em>buff_adr</em> pointer so that the stack transfers the data directly to the target buffer. /note The updated buffer address should be accessable by USB DMA master. If user doesn't want to use zero-copy model, then the user should not update the buffer pointer.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir"></td><td class="paramname">offset</td><td>Destination start address. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">buf</td><td>Buffer containing the data sent by the host. </td></tr>
    <tr><td class="paramdir"></td><td class="paramname">length</td><td>Number of bytes to write. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing. </dd></dl>

<p>Definition at line <a class="el" href="usbd__api_8h_source.html#l00132">132</a> of file <a class="el" href="usbd__api_8h_source.html">usbd_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="adb394fb2c4087d9b3183b262fe5347a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* MSC_Read)(<a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> offset, uint8_t **dst, <a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> length)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MSC Read callback function.</p>
<p>This function is provided by the application software. This function gets called when host sends a read command.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Source start address. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">dst</td><td>Pointer to a pointer to the source of data. The MSC function drivers implemented in stack are written with zero-copy model. Meaning the stack doesn't make an extra copy of buffer before writing/reading data from USB hardware FIFO. Hence the parameter is pointer to a pointer containing address buffer (<em>uint8_t** dst</em>). So that the user application can update the buffer pointer instead of copying data to address pointed by the parameter. /note The updated buffer address should be accessable by USB DMA master. If user doesn't want to use zero-copy model, then the user should copy data to the address pointed by the passed buffer pointer parameter and shouldn't change the address value. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Number of bytes to be read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing.</dd></dl>
<p>MSC Read callback function.</p>
<p>This function is provided by the application software. This function gets called when host sends a read command.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Source start address. </td></tr>
    <tr><td class="paramname">dst</td><td>Pointer to a pointer to the source of data. The MSC function drivers implemented in stack are written with zero-copy model. Meaning the stack doesn't make an extra copy of buffer before writing/reading data from USB hardware FIFO. Hence the parameter is pointer to a pointer containing address buffer (<em>uint8_t** dst</em>). So that the user application can update the buffer pointer instead of copying data to address pointed by the parameter. /note The updated buffer address should be accessable by USB DMA master. If user doesn't want to use zero-copy model, then the user should copy data to the address pointed by the passed buffer pointer parameter and shouldn't change the address value. </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes to be read. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing. </dd></dl>

<p>Definition at line <a class="el" href="usbd__api_8h_source.html#l00129">129</a> of file <a class="el" href="usbd__api_8h_source.html">usbd_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="a680e2f0b1652351274e3292bf468d26c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="error_8h.html#a905255056c349318139d94aa4523d516">ErrorCode_t</a>(* MSC_Verify)(<a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> offset, uint8_t buf[], <a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> length)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MSC Verify callback function.</p>
<p>This function is provided by the application software. This function gets called when host sends a verify command. The callback function should compare the buffer with the destination memory at the requested offset and</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Destination start address. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">buf</td><td>Buffer containing the data sent by the host. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Number of bytes to verify. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="error_8h.html#a905255056c349318139d94aa4523d516">ErrorCode_t</a> type to indicate success or error condition. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">LPC_OK</td><td>If data in the buffer matches the data at destination </td></tr>
    <tr><td class="paramname">ERR_FAILED</td><td>Atleast one byte is different.</td></tr>
  </table>
  </dd>
</dl>
<p>MSC Verify callback function.</p>
<p>This function is provided by the application software. This function gets called when host sends a verify command. The callback function should compare the buffer with the destination memory at the requested offset and</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Destination start address. </td></tr>
    <tr><td class="paramname">buf</td><td>Buffer containing the data sent by the host. </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes to verify. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Returns <a class="el" href="error_8h.html#a905255056c349318139d94aa4523d516">ErrorCode_t</a> type to indicate success or error condition. </dd></dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">LPC_OK</td><td>If data in the buffer matches the data at destination </td></tr>
    <tr><td class="paramname">ERR_FAILED</td><td>Atleast one byte is different. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="usbd__api_8h_source.html#l00130">130</a> of file <a class="el" href="usbd__api_8h_source.html">usbd_api.h</a>.</p>

</div>
</div>
<a class="anchor" id="afcc472785d4821787a8d8f36f5f7b64e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void(* MSC_Write)(<a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> offset, uint8_t **src, <a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> length)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>MSC Write callback function.</p>
<p>This function is provided by the application software. This function gets called when host sends a write command.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">offset</td><td>Destination start address. </td></tr>
    <tr><td class="paramdir">[in,out]</td><td class="paramname">src</td><td>Pointer to a pointer to the source of data. Pointer-to-pointer is used to implement zero-copy buffers. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">length</td><td>Number of bytes to be written. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing.</dd></dl>
<p>MSC Write callback function.</p>
<p>This function is provided by the application software. This function gets called when host sends a write command.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">offset</td><td>Destination start address. </td></tr>
    <tr><td class="paramname">src</td><td>Pointer to a pointer to the source of data. Pointer-to-pointer is used to implement zero-copy buffers. </td></tr>
    <tr><td class="paramname">length</td><td>Number of bytes to be written. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Nothing. </dd></dl>

<p>Definition at line <a class="el" href="usbd__api_8h_source.html#l00128">128</a> of file <a class="el" href="usbd__api_8h_source.html">usbd_api.h</a>.</p>

</div>
</div>
<hr/>The documentation for this struct was generated from the following files:<ul>
<li>C:/nxp/v1.03/lpcopen_v1.03/lpcopen/software/lpc_core/lpc_ip/usbd_rom/<a class="el" href="usbd__api_8h_source.html">usbd_api.h</a></li>
<li>C:/nxp/v1.03/lpcopen_v1.03/lpcopen/software/lpc_core/lpc_ip/usbd_rom/<a class="el" href="lpc__core_2lpc__ip_2usbd__rom_2usbd__mscuser_8h_source.html">usbd_mscuser.h</a></li>
<li>C:/nxp/v1.03/lpcopen_v1.03/lpcopen/software/LPCUSBLib/Drivers/USB/Core/DCD/USBRom/<a class="el" href="_l_p_c_u_s_b_lib_2_drivers_2_u_s_b_2_core_2_d_c_d_2_u_s_b_rom_2usbd__mscuser_8h_source.html">usbd_mscuser.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="struct_u_s_b_d___m_s_c___i_n_i_t___p_a_r_a_m___t.html">USBD_MSC_INIT_PARAM_T</a></li>
    <li class="footer">Generated on Fri May 10 2013 10:43:18 for LPCOpen Platform by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
