<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LPCOpen Platform: Read/Write of Multi-Byte Streams</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="driver.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">LPCOpen Platform
   &#160;<span id="projectnumber">v1.03</span>
   </div>
   <div id="projectbrief">LPCOpen Platform for NXP LPC Microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___group___pipe_stream_r_w.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#enum-members">Enumerations</a>  </div>
  <div class="headertitle">
<div class="title">Read/Write of Multi-Byte Streams</div>  </div>
<div class="ingroups"><a class="el" href="group___group___pipe_r_w.html">Pipe Data Reading and Writing</a></div></div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Pipe data stream transmission and reception management. </p>
<p>Functions, macros, variables, enums and types related to data reading and writing of data streams from and to pipes. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gab83460617bb7a5c928308a71307f237c"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___group___pipe_stream_r_w.html#gab83460617bb7a5c928308a71307f237c">Pipe_Stream_RW_ErrorCodes_t</a> { <br/>
&#160;&#160;<a class="el" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca81ed89d68a4291a93afaadb5bb21c93a">PIPE_RWSTREAM_NoError</a> = 0, 
<a class="el" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca6e508da1fa97b1a9166373d47d1f3571">PIPE_RWSTREAM_PipeStalled</a> = 1, 
<a class="el" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca3ed82e688268bdac5c699cdf768f3c73">PIPE_RWSTREAM_DeviceDisconnected</a> = 2, 
<a class="el" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237cac47510e7af51a05d5293e450c28d923f">PIPE_RWSTREAM_Timeout</a> = 3, 
<br/>
&#160;&#160;<a class="el" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca683d3fad6bbbade8570ef6cc949b5fba">PIPE_RWSTREAM_IncompleteTransfer</a> = 4
<br/>
 }</td></tr>
<tr class="separator:gab83460617bb7a5c928308a71307f237c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gab83460617bb7a5c928308a71307f237c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group___group___pipe_stream_r_w.html#gab83460617bb7a5c928308a71307f237c">Pipe_Stream_RW_ErrorCodes_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Enum for the possible error return codes of the Pipe_*_Stream_* functions. </p>
<dl><dt><b>Enumerator: </b></dt><dd><table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" id="ggab83460617bb7a5c928308a71307f237ca81ed89d68a4291a93afaadb5bb21c93a"></a>PIPE_RWSTREAM_NoError</em>&nbsp;</td><td>
<p>Command completed successfully, no error. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab83460617bb7a5c928308a71307f237ca6e508da1fa97b1a9166373d47d1f3571"></a>PIPE_RWSTREAM_PipeStalled</em>&nbsp;</td><td>
<p>The device stalled the pipe during the transfer. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab83460617bb7a5c928308a71307f237ca3ed82e688268bdac5c699cdf768f3c73"></a>PIPE_RWSTREAM_DeviceDisconnected</em>&nbsp;</td><td>
<p>Device was disconnected from the host during the transfer. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab83460617bb7a5c928308a71307f237cac47510e7af51a05d5293e450c28d923f"></a>PIPE_RWSTREAM_Timeout</em>&nbsp;</td><td>
<p>The device failed to accept or send the next packet within the software timeout period set by the <a class="el" href="group___group___u_s_b_management.html#gaaebc1f2021ec7fe55f6a493ac28ebcee">USB_STREAM_TIMEOUT_MS</a> macro. </p>
</td></tr>
<tr><td valign="top"><em><a class="anchor" id="ggab83460617bb7a5c928308a71307f237ca683d3fad6bbbade8570ef6cc949b5fba"></a>PIPE_RWSTREAM_IncompleteTransfer</em>&nbsp;</td><td>
<p>Indicates that the pipe bank became full/empty before the complete contents of the stream could be transferred. </p>
</td></tr>
</table>
</dd>
</dl>

<p>Definition at line <a class="el" href="_pipe_stream_8h_source.html#l00063">63</a> of file <a class="el" href="_pipe_stream_8h_source.html">PipeStream.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga04936c59a4e44913db0213f9ea208225"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Pipe_Discard_Stream </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>corenum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *const&#160;</td>
          <td class="paramname"><em>BytesProcessed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads and discards the given number of bytes from the pipe, discarding fully read packets from the host as needed. The last packet is not automatically discarded once the remaining bytes has been read; the user is responsible for manually discarding the last packet from the device via the <a class="el" href="group___group___pipe_packet_management.html#gac3f05913eea6c897e01bceab4515db83">Pipe_ClearIN()</a> macro. </p>
<p>If the BytesProcessed parameter is <code>NULL</code>, the entire stream transfer is attempted at once, failing or succeeding as a single unit. If the BytesProcessed parameter points to a valid storage location, the transfer will instead be performed as a series of chunks. Each time the pipe bank becomes empty while there is still data to process (and after the current packet has been acknowledged) the BytesProcessed location will be updated with the total number of bytes processed in the stream, and the function will exit with an error code of <a class="el" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca683d3fad6bbbade8570ef6cc949b5fba">PIPE_RWSTREAM_IncompleteTransfer</a>. This allows for any abort checking to be performed in the user code - to continue the transfer, call the function again with identical parameters and it will resume until the BytesProcessed value reaches the total transfer length.</p>
<p><b>Single Stream Transfer Example:</b> </p>
<div class="fragment"><div class="line">uint8_t ErrorCode;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> ((ErrorCode = <a class="code" href="group___group___pipe_stream_r_w.html#ga04936c59a4e44913db0213f9ea208225" title="Reads and discards the given number of bytes from the pipe, discarding fully read packets from the ho...">Pipe_Discard_Stream</a>(512, <a class="code" href="group___l_p_c___types___public___macros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) != <a class="code" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca81ed89d68a4291a93afaadb5bb21c93a">PIPE_RWSTREAM_NoError</a>)</div>
<div class="line">{</div>
<div class="line">     <span class="comment">// Stream failed to complete - check ErrorCode here</span></div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Partial Stream Transfers Example:</b> </p>
<div class="fragment"><div class="line">uint8_t  ErrorCode;</div>
<div class="line">uint16_t BytesProcessed;</div>
<div class="line"></div>
<div class="line">BytesProcessed = 0;</div>
<div class="line"><span class="keywordflow">while</span> ((ErrorCode = <a class="code" href="group___group___pipe_stream_r_w.html#ga04936c59a4e44913db0213f9ea208225" title="Reads and discards the given number of bytes from the pipe, discarding fully read packets from the ho...">Pipe_Discard_Stream</a>(512, &amp;BytesProcessed)) == <a class="code" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca683d3fad6bbbade8570ef6cc949b5fba">PIPE_RWSTREAM_IncompleteTransfer</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Stream not yet complete - do other actions here, abort if required</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (ErrorCode != <a class="code" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca81ed89d68a4291a93afaadb5bb21c93a">PIPE_RWSTREAM_NoError</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Stream failed to complete - check ErrorCode here</span></div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The pipe token is set automatically, thus this can be used on bi-directional pipes directly without having to explicitly change the data direction with a call to <a class="el" href="group___group___pipe_management.html#ga3eeb6953e527cbd5b51bd3855ddba5fb">Pipe_SetPipeToken()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">corenum</td><td>: USB port number </td></tr>
    <tr><td class="paramname">Length</td><td>: Number of bytes to discard via the currently selected pipe </td></tr>
    <tr><td class="paramname">BytesProcessed</td><td>: Pointer to a location where the total number of bytes already processed should updated, <code>NULL</code> if the entire stream should be processed at once. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the <a class="el" href="group___group___pipe_stream_r_w.html#gab83460617bb7a5c928308a71307f237c">Pipe_Stream_RW_ErrorCodes_t</a> enum </dd></dl>

<p>Definition at line <a class="el" href="_pipe_stream_8c_source.html#l00039">39</a> of file <a class="el" href="_pipe_stream_8c_source.html">PipeStream.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga7c8fdc844dbcefdab7772812869a186c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Pipe_Null_Stream </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>corenum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *const&#160;</td>
          <td class="paramname"><em>BytesProcessed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes a given number of zeroed bytes to the pipe, sending full pipe packets from the host to the device as needed. The last packet is not automatically sent once the remaining bytes has been written; the user is responsible for manually discarding the last packet from the device via the <a class="el" href="group___group___pipe_packet_management.html#ga82d5d40462deed7e992f5fdb7a2ee038">Pipe_ClearOUT()</a> macro. </p>
<p>If the BytesProcessed parameter is <code>NULL</code>, the entire stream transfer is attempted at once, failing or succeeding as a single unit. If the BytesProcessed parameter points to a valid storage location, the transfer will instead be performed as a series of chunks. Each time the pipe bank becomes full while there is still data to process (and after the current packet transmission has been initiated) the BytesProcessed location will be updated with the total number of bytes processed in the stream, and the function will exit with an error code of <a class="el" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca683d3fad6bbbade8570ef6cc949b5fba">PIPE_RWSTREAM_IncompleteTransfer</a>. This allows for any abort checking to be performed in the user code - to continue the transfer, call the function again with identical parameters and it will resume until the BytesProcessed value reaches the total transfer length.</p>
<p><b>Single Stream Transfer Example:</b> </p>
<div class="fragment"><div class="line">uint8_t ErrorCode;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> ((ErrorCode = <a class="code" href="group___group___pipe_stream_r_w.html#ga7c8fdc844dbcefdab7772812869a186c" title="Writes a given number of zeroed bytes to the pipe, sending full pipe packets from the host to the dev...">Pipe_Null_Stream</a>(512, <a class="code" href="group___l_p_c___types___public___macros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) != <a class="code" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca81ed89d68a4291a93afaadb5bb21c93a">PIPE_RWSTREAM_NoError</a>)</div>
<div class="line">{</div>
<div class="line">     <span class="comment">// Stream failed to complete - check ErrorCode here</span></div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Partial Stream Transfers Example:</b> </p>
<div class="fragment"><div class="line">uint8_t  ErrorCode;</div>
<div class="line">uint16_t BytesProcessed;</div>
<div class="line"></div>
<div class="line">BytesProcessed = 0;</div>
<div class="line"><span class="keywordflow">while</span> ((ErrorCode = <a class="code" href="group___group___pipe_stream_r_w.html#ga7c8fdc844dbcefdab7772812869a186c" title="Writes a given number of zeroed bytes to the pipe, sending full pipe packets from the host to the dev...">Pipe_Null_Stream</a>(512, &amp;BytesProcessed)) == <a class="code" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca683d3fad6bbbade8570ef6cc949b5fba">PIPE_RWSTREAM_IncompleteTransfer</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Stream not yet complete - do other actions here, abort if required</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (ErrorCode != <a class="code" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca81ed89d68a4291a93afaadb5bb21c93a">PIPE_RWSTREAM_NoError</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Stream failed to complete - check ErrorCode here</span></div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The pipe token is set automatically, thus this can be used on bi-directional pipes directly without having to explicitly change the data direction with a call to <a class="el" href="group___group___pipe_management.html#ga3eeb6953e527cbd5b51bd3855ddba5fb">Pipe_SetPipeToken()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">corenum</td><td>: USB port number </td></tr>
    <tr><td class="paramname">Length</td><td>: Number of zero bytes to write via the currently selected pipe </td></tr>
    <tr><td class="paramname">BytesProcessed</td><td>: Pointer to a location where the total number of bytes already processed should updated, <code>NULL</code> if the entire stream should be processed at once. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the <a class="el" href="group___group___pipe_stream_r_w.html#gab83460617bb7a5c928308a71307f237c">Pipe_Stream_RW_ErrorCodes_t</a> enum </dd></dl>

<p>Definition at line <a class="el" href="_pipe_stream_8c_source.html#l00080">80</a> of file <a class="el" href="_pipe_stream_8c_source.html">PipeStream.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga761fa11252666c45ddefacdca1adce93"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Pipe_Read_EStream_BE </td>
          <td>(</td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *const&#160;</td>
          <td class="paramname"><em>BytesProcessed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pipe Read EEPROM Stream Big Endian. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Buffer</td><td>: Pointer to the source data buffer to write to </td></tr>
    <tr><td class="paramname">Length</td><td>: Number of bytes to read for the currently selected pipe to read from </td></tr>
    <tr><td class="paramname">BytesProcessed</td><td>: Pointer to a location where the total number of bytes already processed should updated, <code>NULL</code> if the entire stream should be read at once. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the <a class="el" href="group___group___pipe_stream_r_w.html#gab83460617bb7a5c928308a71307f237c">Pipe_Stream_RW_ErrorCodes_t</a> enum </dd></dl>

<p>Definition at line <a class="el" href="_pipe_stream_8c_source.html#l00205">205</a> of file <a class="el" href="_pipe_stream_8c_source.html">PipeStream.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga6aeedb2dd827f073248e146286853c97"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Pipe_Read_EStream_LE </td>
          <td>(</td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *const&#160;</td>
          <td class="paramname"><em>BytesProcessed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pipe Read EEPROM Stream Little Endian. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Buffer</td><td>: Pointer to the source data buffer to write to </td></tr>
    <tr><td class="paramname">Length</td><td>: Number of bytes to read for the currently selected pipe to read from </td></tr>
    <tr><td class="paramname">BytesProcessed</td><td>: Pointer to a location where the total number of bytes already processed should updated, <code>NULL</code> if the entire stream should be read at once. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the <a class="el" href="group___group___pipe_stream_r_w.html#gab83460617bb7a5c928308a71307f237c">Pipe_Stream_RW_ErrorCodes_t</a> enum </dd></dl>

<p>Definition at line <a class="el" href="_pipe_stream_8c_source.html#l00198">198</a> of file <a class="el" href="_pipe_stream_8c_source.html">PipeStream.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga196c484abf775face90b30f90f45cef4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Pipe_Read_Stream_BE </td>
          <td>(</td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *const&#160;</td>
          <td class="paramname"><em>BytesProcessed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the given number of bytes from the pipe into the given buffer in big endian, sending full packets to the device as needed. The last packet filled is not automatically sent; the user is responsible for manually sending the last written packet to the host via the <a class="el" href="group___group___pipe_packet_management.html#gac3f05913eea6c897e01bceab4515db83">Pipe_ClearIN()</a> macro. Between each USB packet, the given stream callback function is executed repeatedly until the next packet is ready, allowing for early aborts of stream transfers. </p>
<dl class="section note"><dt>Note</dt><dd>The pipe token is set automatically, thus this can be used on bi-directional pipes directly without having to explicitly change the data direction with a call to <a class="el" href="group___group___pipe_management.html#ga3eeb6953e527cbd5b51bd3855ddba5fb">Pipe_SetPipeToken()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Buffer</td><td>: Pointer to the source data buffer to write to </td></tr>
    <tr><td class="paramname">Length</td><td>: Number of bytes to read for the currently selected pipe to read from </td></tr>
    <tr><td class="paramname">BytesProcessed</td><td>: Pointer to a location where the total number of bytes already processed should updated, <code>NULL</code> if the entire stream should be read at once. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the <a class="el" href="group___group___pipe_stream_r_w.html#gab83460617bb7a5c928308a71307f237c">Pipe_Stream_RW_ErrorCodes_t</a> enum </dd></dl>

<p>Definition at line <a class="el" href="_pipe_stream_8c_source.html#l00163">163</a> of file <a class="el" href="_pipe_stream_8c_source.html">PipeStream.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga58b19764ad7369fa3651a237a6f81a6c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Pipe_Read_Stream_LE </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>corenum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *const&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *const&#160;</td>
          <td class="paramname"><em>BytesProcessed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reads the given number of bytes from the pipe into the given buffer in little endian, sending full packets to the device as needed. The last packet filled is not automatically sent; the user is responsible for manually sending the last written packet to the host via the <a class="el" href="group___group___pipe_packet_management.html#gac3f05913eea6c897e01bceab4515db83">Pipe_ClearIN()</a> macro. Between each USB packet, the given stream callback function is executed repeatedly until the next packet is ready, allowing for early aborts of stream transfers. </p>
<p>If the BytesProcessed parameter is <code>NULL</code>, the entire stream transfer is attempted at once, failing or succeeding as a single unit. If the BytesProcessed parameter points to a valid storage location, the transfer will instead be performed as a series of chunks. Each time the pipe bank becomes empty while there is still data to process (and after the current packet has been acknowledged) the BytesProcessed location will be updated with the total number of bytes processed in the stream, and the function will exit with an error code of <a class="el" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca683d3fad6bbbade8570ef6cc949b5fba">PIPE_RWSTREAM_IncompleteTransfer</a>. This allows for any abort checking to be performed in the user code - to continue the transfer, call the function again with identical parameters and it will resume until the BytesProcessed value reaches the total transfer length.</p>
<p><b>Single Stream Transfer Example:</b> </p>
<div class="fragment"><div class="line">uint8_t DataStream[512];</div>
<div class="line">uint8_t ErrorCode;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> ((ErrorCode = <a class="code" href="group___group___pipe_stream_r_w.html#ga58b19764ad7369fa3651a237a6f81a6c" title="Reads the given number of bytes from the pipe into the given buffer in little endian, sending full packets to the device as needed. The last packet filled is not automatically sent; the user is responsible for manually sending the last written packet to the host via the Pipe_ClearIN() macro. Between each USB packet, the given stream callback function is executed repeatedly until the next packet is ready, allowing for early aborts of stream transfers.">Pipe_Read_Stream_LE</a>(DataStream, <span class="keyword">sizeof</span>(DataStream),</div>
<div class="line">                                     <a class="code" href="group___l_p_c___types___public___macros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) != <a class="code" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca81ed89d68a4291a93afaadb5bb21c93a">PIPE_RWSTREAM_NoError</a>)</div>
<div class="line">{</div>
<div class="line">     <span class="comment">// Stream failed to complete - check ErrorCode here</span></div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Partial Stream Transfers Example:</b> </p>
<div class="fragment"><div class="line">uint8_t  DataStream[512];</div>
<div class="line">uint8_t  ErrorCode;</div>
<div class="line">uint16_t BytesProcessed;</div>
<div class="line"></div>
<div class="line">BytesProcessed = 0;</div>
<div class="line"><span class="keywordflow">while</span> ((ErrorCode = <a class="code" href="group___group___pipe_stream_r_w.html#ga58b19764ad7369fa3651a237a6f81a6c" title="Reads the given number of bytes from the pipe into the given buffer in little endian, sending full packets to the device as needed. The last packet filled is not automatically sent; the user is responsible for manually sending the last written packet to the host via the Pipe_ClearIN() macro. Between each USB packet, the given stream callback function is executed repeatedly until the next packet is ready, allowing for early aborts of stream transfers.">Pipe_Read_Stream_LE</a>(DataStream, <span class="keyword">sizeof</span>(DataStream),</div>
<div class="line">                                        &amp;BytesProcessed)) == <a class="code" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca683d3fad6bbbade8570ef6cc949b5fba">PIPE_RWSTREAM_IncompleteTransfer</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Stream not yet complete - do other actions here, abort if required</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (ErrorCode != <a class="code" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca81ed89d68a4291a93afaadb5bb21c93a">PIPE_RWSTREAM_NoError</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Stream failed to complete - check ErrorCode here</span></div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The pipe token is set automatically, thus this can be used on bi-directional pipes directly without having to explicitly change the data direction with a call to <a class="el" href="group___group___pipe_management.html#ga3eeb6953e527cbd5b51bd3855ddba5fb">Pipe_SetPipeToken()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">corenum</td><td>: USB port number </td></tr>
    <tr><td class="paramname">Buffer</td><td>: Pointer to the source data buffer to write to </td></tr>
    <tr><td class="paramname">Length</td><td>: Number of bytes to read for the currently selected pipe to read from </td></tr>
    <tr><td class="paramname">BytesProcessed</td><td>: Pointer to a location where the total number of bytes already processed should updated, <code>NULL</code> if the entire stream should be read at once. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the <a class="el" href="group___group___pipe_stream_r_w.html#gab83460617bb7a5c928308a71307f237c">Pipe_Stream_RW_ErrorCodes_t</a> enum </dd></dl>

<p>Definition at line <a class="el" href="_pipe_stream_8c_source.html#l00116">116</a> of file <a class="el" href="_pipe_stream_8c_source.html">PipeStream.c</a>.</p>

</div>
</div>
<a class="anchor" id="gabccbfb1882c6c9631aaaef83612da3a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Pipe_Streaming </td>
          <td>(</td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>corenum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *const&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> const&#160;</td>
          <td class="paramname"><em>transferlength</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t const&#160;</td>
          <td class="paramname"><em>packetsize</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transfer a stream of data to/from USB bus. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">corenum</td><td>: streaming USB core number </td></tr>
    <tr><td class="paramname">buffer</td><td>: Pointer to the data buffer to read from or write to </td></tr>
    <tr><td class="paramname">transferlength</td><td>: Number of bytes to transfer </td></tr>
    <tr><td class="paramname">packetsize</td><td>: Size in byte of each packet in stream </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the <a class="el" href="group___group___pipe_stream_r_w.html#gab83460617bb7a5c928308a71307f237c">Pipe_Stream_RW_ErrorCodes_t</a> enum </dd></dl>

<p>Definition at line <a class="el" href="_pipe_stream_8c_source.html#l00212">212</a> of file <a class="el" href="_pipe_stream_8c_source.html">PipeStream.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga386f05644bec04381a59fd76834e0027"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Pipe_Write_EStream_BE </td>
          <td>(</td>
          <td class="paramtype">const void *const&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *const&#160;</td>
          <td class="paramname"><em>BytesProcessed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pipe Write EEPROM Stream Big Endian. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Buffer</td><td>: Pointer to the source data buffer to read from </td></tr>
    <tr><td class="paramname">Length</td><td>: Number of bytes to read for the currently selected pipe into the buffer </td></tr>
    <tr><td class="paramname">BytesProcessed</td><td>: Pointer to a location where the total number of bytes already processed should updated, <code>NULL</code> if the entire stream should be written at once. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the <a class="el" href="group___group___pipe_stream_r_w.html#gab83460617bb7a5c928308a71307f237c">Pipe_Stream_RW_ErrorCodes_t</a> enum </dd></dl>

<p>Definition at line <a class="el" href="_pipe_stream_8c_source.html#l00191">191</a> of file <a class="el" href="_pipe_stream_8c_source.html">PipeStream.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga4cbc4f1bd99cf8e8056629b2a26ecfea"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Pipe_Write_EStream_LE </td>
          <td>(</td>
          <td class="paramtype">const void *const&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *const&#160;</td>
          <td class="paramname"><em>BytesProcessed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pipe Write EEPROM Stream Little Endian. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Buffer</td><td>: Pointer to the source data buffer to read from </td></tr>
    <tr><td class="paramname">Length</td><td>: Number of bytes to read for the currently selected pipe into the buffer </td></tr>
    <tr><td class="paramname">BytesProcessed</td><td>: Pointer to a location where the total number of bytes already processed should updated, <code>NULL</code> if the entire stream should be written at once. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the <a class="el" href="group___group___pipe_stream_r_w.html#gab83460617bb7a5c928308a71307f237c">Pipe_Stream_RW_ErrorCodes_t</a> enum </dd></dl>

<p>Definition at line <a class="el" href="_pipe_stream_8c_source.html#l00184">184</a> of file <a class="el" href="_pipe_stream_8c_source.html">PipeStream.c</a>.</p>

</div>
</div>
<a class="anchor" id="gacbe79d81ad3559ddaf2a8221bbe9294d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Pipe_Write_PStream_BE </td>
          <td>(</td>
          <td class="paramtype">const void *const&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *const&#160;</td>
          <td class="paramname"><em>BytesProcessed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pipe Write FLASH Stream Big Endian. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Buffer</td><td>: Pointer to the source data buffer to read from </td></tr>
    <tr><td class="paramname">Length</td><td>: Number of bytes to read for the currently selected pipe into the buffer </td></tr>
    <tr><td class="paramname">BytesProcessed</td><td>: Pointer to a location where the total number of bytes already processed should updated, <code>NULL</code> if the entire stream should be written at once. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the <a class="el" href="group___group___pipe_stream_r_w.html#gab83460617bb7a5c928308a71307f237c">Pipe_Stream_RW_ErrorCodes_t</a> enum </dd></dl>

<p>Definition at line <a class="el" href="_pipe_stream_8c_source.html#l00177">177</a> of file <a class="el" href="_pipe_stream_8c_source.html">PipeStream.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga9b64b88055e9628f6cfa77e2818a479a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Pipe_Write_PStream_LE </td>
          <td>(</td>
          <td class="paramtype">const void *const&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *const&#160;</td>
          <td class="paramname"><em>BytesProcessed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Pipe Write FLASH Stream Little Endian. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Buffer</td><td>: Pointer to the source data buffer to read from </td></tr>
    <tr><td class="paramname">Length</td><td>: Number of bytes to read for the currently selected pipe into the buffer </td></tr>
    <tr><td class="paramname">BytesProcessed</td><td>: Pointer to a location where the total number of bytes already processed should updated, <code>NULL</code> if the entire stream should be written at once. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the <a class="el" href="group___group___pipe_stream_r_w.html#gab83460617bb7a5c928308a71307f237c">Pipe_Stream_RW_ErrorCodes_t</a> enum </dd></dl>

<p>Definition at line <a class="el" href="_pipe_stream_8c_source.html#l00170">170</a> of file <a class="el" href="_pipe_stream_8c_source.html">PipeStream.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga85d07e15c23b78c325e2de524d17626d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Pipe_Write_Stream_BE </td>
          <td>(</td>
          <td class="paramtype">const void *const&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *const&#160;</td>
          <td class="paramname"><em>BytesProcessed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes the given number of bytes to the pipe from the given buffer in big endian, sending full packets to the device as needed. The last packet filled is not automatically sent; the user is responsible for manually sending the last written packet to the host via the <a class="el" href="group___group___pipe_packet_management.html#ga82d5d40462deed7e992f5fdb7a2ee038">Pipe_ClearOUT()</a> macro. Between each USB packet, the given stream callback function is executed repeatedly until the next packet is ready, allowing for early aborts of stream transfers. </p>
<dl class="section note"><dt>Note</dt><dd>The pipe token is set automatically, thus this can be used on bi-directional pipes directly without having to explicitly change the data direction with a call to <a class="el" href="group___group___pipe_management.html#ga3eeb6953e527cbd5b51bd3855ddba5fb">Pipe_SetPipeToken()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">Buffer</td><td>: Pointer to the source data buffer to read from </td></tr>
    <tr><td class="paramname">Length</td><td>: Number of bytes to read for the currently selected pipe into the buffer </td></tr>
    <tr><td class="paramname">BytesProcessed</td><td>: Pointer to a location where the total number of bytes already processed should updated, <code>NULL</code> if the entire stream should be written at once. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the <a class="el" href="group___group___pipe_stream_r_w.html#gab83460617bb7a5c928308a71307f237c">Pipe_Stream_RW_ErrorCodes_t</a> enum </dd></dl>

<p>Definition at line <a class="el" href="_pipe_stream_8c_source.html#l00156">156</a> of file <a class="el" href="_pipe_stream_8c_source.html">PipeStream.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga4d33d5eae10fc71c64fbdfda93054309"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t Pipe_Write_Stream_LE </td>
          <td>(</td>
          <td class="paramtype">const uint8_t&#160;</td>
          <td class="paramname"><em>corenum</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const void *const&#160;</td>
          <td class="paramname"><em>Buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>Length</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *const&#160;</td>
          <td class="paramname"><em>BytesProcessed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Writes the given number of bytes to the pipe from the given buffer in little endian, sending full packets to the device as needed. The last packet filled is not automatically sent; the user is responsible for manually sending the last written packet to the host via the <a class="el" href="group___group___pipe_packet_management.html#ga82d5d40462deed7e992f5fdb7a2ee038">Pipe_ClearOUT()</a> macro. Between each USB packet, the given stream callback function is executed repeatedly until the next packet is ready, allowing for early aborts of stream transfers. </p>
<p>If the BytesProcessed parameter is <code>NULL</code>, the entire stream transfer is attempted at once, failing or succeeding as a single unit. If the BytesProcessed parameter points to a valid storage location, the transfer will instead be performed as a series of chunks. Each time the pipe bank becomes full while there is still data to process (and after the current packet transmission has been initiated) the BytesProcessed location will be updated with the total number of bytes processed in the stream, and the function will exit with an error code of <a class="el" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca683d3fad6bbbade8570ef6cc949b5fba">PIPE_RWSTREAM_IncompleteTransfer</a>. This allows for any abort checking to be performed in the user code - to continue the transfer, call the function again with identical parameters and it will resume until the BytesProcessed value reaches the total transfer length.</p>
<p><b>Single Stream Transfer Example:</b> </p>
<div class="fragment"><div class="line">uint8_t DataStream[512];</div>
<div class="line">uint8_t ErrorCode;</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> ((ErrorCode = <a class="code" href="group___group___pipe_stream_r_w.html#ga4d33d5eae10fc71c64fbdfda93054309" title="Writes the given number of bytes to the pipe from the given buffer in little endian, sending full packets to the device as needed. The last packet filled is not automatically sent; the user is responsible for manually sending the last written packet to the host via the Pipe_ClearOUT() macro. Between each USB packet, the given stream callback function is executed repeatedly until the next packet is ready, allowing for early aborts of stream transfers.">Pipe_Write_Stream_LE</a>(DataStream, <span class="keyword">sizeof</span>(DataStream),</div>
<div class="line">                                      <a class="code" href="group___l_p_c___types___public___macros.html#ga070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)) != <a class="code" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca81ed89d68a4291a93afaadb5bb21c93a">PIPE_RWSTREAM_NoError</a>)</div>
<div class="line">{</div>
<div class="line">     <span class="comment">// Stream failed to complete - check ErrorCode here</span></div>
<div class="line">}</div>
</div><!-- fragment --><p><b>Partial Stream Transfers Example:</b> </p>
<div class="fragment"><div class="line">uint8_t  DataStream[512];</div>
<div class="line">uint8_t  ErrorCode;</div>
<div class="line">uint16_t BytesProcessed;</div>
<div class="line"></div>
<div class="line">BytesProcessed = 0;</div>
<div class="line"><span class="keywordflow">while</span> ((ErrorCode = <a class="code" href="group___group___pipe_stream_r_w.html#ga4d33d5eae10fc71c64fbdfda93054309" title="Writes the given number of bytes to the pipe from the given buffer in little endian, sending full packets to the device as needed. The last packet filled is not automatically sent; the user is responsible for manually sending the last written packet to the host via the Pipe_ClearOUT() macro. Between each USB packet, the given stream callback function is executed repeatedly until the next packet is ready, allowing for early aborts of stream transfers.">Pipe_Write_Stream_LE</a>(DataStream, <span class="keyword">sizeof</span>(DataStream),</div>
<div class="line">                                         &amp;BytesProcessed)) == <a class="code" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca683d3fad6bbbade8570ef6cc949b5fba">PIPE_RWSTREAM_IncompleteTransfer</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Stream not yet complete - do other actions here, abort if required</span></div>
<div class="line">}</div>
<div class="line"></div>
<div class="line"><span class="keywordflow">if</span> (ErrorCode != <a class="code" href="group___group___pipe_stream_r_w.html#ggab83460617bb7a5c928308a71307f237ca81ed89d68a4291a93afaadb5bb21c93a">PIPE_RWSTREAM_NoError</a>)</div>
<div class="line">{</div>
<div class="line">    <span class="comment">// Stream failed to complete - check ErrorCode here</span></div>
<div class="line">}</div>
</div><!-- fragment --><dl class="section note"><dt>Note</dt><dd>The pipe token is set automatically, thus this can be used on bi-directional pipes directly without having to explicitly change the data direction with a call to <a class="el" href="group___group___pipe_management.html#ga3eeb6953e527cbd5b51bd3855ddba5fb">Pipe_SetPipeToken()</a>.</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">corenum</td><td>: USB port number </td></tr>
    <tr><td class="paramname">Buffer</td><td>: Pointer to the source data buffer to read from </td></tr>
    <tr><td class="paramname">Length</td><td>: Number of bytes to read for the currently selected pipe into the buffer </td></tr>
    <tr><td class="paramname">BytesProcessed</td><td>: Pointer to a location where the total number of bytes already processed should updated, <code>NULL</code> if the entire stream should be written at once. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A value from the <a class="el" href="group___group___pipe_stream_r_w.html#gab83460617bb7a5c928308a71307f237c">Pipe_Stream_RW_ErrorCodes_t</a> enum </dd></dl>

<p>Definition at line <a class="el" href="_pipe_stream_8c_source.html#l00096">96</a> of file <a class="el" href="_pipe_stream_8c_source.html">PipeStream.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri May 10 2013 10:43:05 for LPCOpen Platform by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
