<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>LPCOpen Platform: LPCUSBlib Mass Storage Device Dual core example</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="driver.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">LPCOpen Platform
   &#160;<span id="projectnumber">v1.03</span>
   </div>
   <div id="projectbrief">LPCOpen Platform for NXP LPC Microcontrollers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">LPCUSBlib Mass Storage Device Dual core example</div>  </div>
<div class="ingroups"><a class="el" href="group___e_x_a_m_p_l_e_s___d_u_a_l_c_o_r_e__43_x_x.html">LPC43xx dual core examples</a></div></div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The USB Mass Storage data RAM module module implements the functions which handles the storage &amp; retrieval of data in RAM.</p>
<p>The Mass Storage Device dual core example demonstrates the Mass Storage Device example using LPCUSBlib library. The LPC43XX will be enumerated as as Mass Storage Device when connected to the Host PC. The example can be configured to run on M4/M0 core. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:ga75e71d42353f289bf69072860957f892"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga75e71d42353f289bf69072860957f892">VIRTUAL_MEMORY_BYTES</a>&#160;&#160;&#160;DATA_RAM_VIRTUAL_SIZE</td></tr>
<tr class="separator:ga75e71d42353f289bf69072860957f892"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga46b701cd2078c2091bd4678e38ce8e64"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga46b701cd2078c2091bd4678e38ce8e64">VIRTUAL_MEMORY_BLOCK_SIZE</a>&#160;&#160;&#160;512</td></tr>
<tr class="separator:ga46b701cd2078c2091bd4678e38ce8e64"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8a35bb45c35f767e6a567917bc28a303"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga8a35bb45c35f767e6a567917bc28a303">VIRTUAL_MEMORY_BLOCKS</a>&#160;&#160;&#160;(<a class="el" href="_data_ram_8h.html#a75e71d42353f289bf69072860957f892">VIRTUAL_MEMORY_BYTES</a> / <a class="el" href="_data_ram_8h.html#a46b701cd2078c2091bd4678e38ce8e64">VIRTUAL_MEMORY_BLOCK_SIZE</a>)</td></tr>
<tr class="separator:ga8a35bb45c35f767e6a567917bc28a303"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga35a06cf522ba5b8ef837c8c5e0bee17b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga35a06cf522ba5b8ef837c8c5e0bee17b">LEDMASK_USB_NOTREADY</a>&#160;&#160;&#160;<a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga07668d0bcd1025a056db2334373709b1">LEDS_LED1</a></td></tr>
<tr class="separator:ga35a06cf522ba5b8ef837c8c5e0bee17b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae5f555e6ba3f29cf2683653715b2882b"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#gae5f555e6ba3f29cf2683653715b2882b">LEDMASK_USB_ENUMERATING</a>&#160;&#160;&#160;(<a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga067978238d36887c2c33d74e69f90bce">LEDS_LED2</a> | <a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga5098266125f22427fe7b6bc41d6624c6">LEDS_LED3</a>)</td></tr>
<tr class="separator:gae5f555e6ba3f29cf2683653715b2882b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1bdfeb2384ab943afb611716fb2034ee"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga1bdfeb2384ab943afb611716fb2034ee">LEDMASK_USB_READY</a>&#160;&#160;&#160;(<a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga067978238d36887c2c33d74e69f90bce">LEDS_LED2</a> | <a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga1a6ab96957b8bca4e03a9eda35798611">LEDS_LED4</a>)</td></tr>
<tr class="separator:ga1bdfeb2384ab943afb611716fb2034ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9c02d2f661a67e5d895a637b1786e495"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga9c02d2f661a67e5d895a637b1786e495">LEDMASK_USB_ERROR</a>&#160;&#160;&#160;(<a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga07668d0bcd1025a056db2334373709b1">LEDS_LED1</a> | <a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga5098266125f22427fe7b6bc41d6624c6">LEDS_LED3</a>)</td></tr>
<tr class="separator:ga9c02d2f661a67e5d895a637b1786e495"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8e041687ba6fa46320c904de65419fa8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga8e041687ba6fa46320c904de65419fa8">LEDMASK_USB_BUSY</a>&#160;&#160;&#160;<a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga067978238d36887c2c33d74e69f90bce">LEDS_LED2</a></td></tr>
<tr class="separator:ga8e041687ba6fa46320c904de65419fa8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga50367256bfbc0d0b9d6fd42fb63e78a9"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga50367256bfbc0d0b9d6fd42fb63e78a9">TOTAL_LUNS</a>&#160;&#160;&#160;1</td></tr>
<tr class="separator:ga50367256bfbc0d0b9d6fd42fb63e78a9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga74ba398e7640ffa25cfd45e346ba7c17"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga74ba398e7640ffa25cfd45e346ba7c17">LUN_MEDIA_BLOCKS</a>&#160;&#160;&#160;(<a class="el" href="_data_ram_8h.html#a8a35bb45c35f767e6a567917bc28a303">VIRTUAL_MEMORY_BLOCKS</a> / <a class="el" href="group___mass___storage___device___definition.html#ga50367256bfbc0d0b9d6fd42fb63e78a9">TOTAL_LUNS</a>)</td></tr>
<tr class="separator:ga74ba398e7640ffa25cfd45e346ba7c17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga8bbf5d8cbc2b7f0f5e0ac0d200cf234a"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga8bbf5d8cbc2b7f0f5e0ac0d200cf234a">DISK_READ_ONLY</a>&#160;&#160;&#160;false</td></tr>
<tr class="separator:ga8bbf5d8cbc2b7f0f5e0ac0d200cf234a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gad7194f8e123c9446822f947d4b394d13"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#gad7194f8e123c9446822f947d4b394d13">DataRam_WriteBlocks</a> (<a class="el" href="struct_u_s_b___class_info___m_s___device__t.html">USB_ClassInfo_MS_Device_t</a> *const MSInterfaceInfo, const <a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> <a class="el" href="_dataflash_manager_8h.html#a65316bf93f8f5824a53d8bdd0080b8fb">BlockAddress</a>, uint16_t <a class="el" href="_dataflash_manager_8h.html#a178c3b4a0fc190e877fb7a9973584faf">TotalBlocks</a>)</td></tr>
<tr class="memdesc:gad7194f8e123c9446822f947d4b394d13"><td class="mdescLeft">&#160;</td><td class="mdescRight">DataRAM write blocks function.  <a href="#gad7194f8e123c9446822f947d4b394d13"></a><br/></td></tr>
<tr class="separator:gad7194f8e123c9446822f947d4b394d13"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga724787b1f942b0326df0f844b043b8fe"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga724787b1f942b0326df0f844b043b8fe">DataRam_ReadBlocks</a> (<a class="el" href="struct_u_s_b___class_info___m_s___device__t.html">USB_ClassInfo_MS_Device_t</a> *const MSInterfaceInfo, const <a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> <a class="el" href="_dataflash_manager_8h.html#a65316bf93f8f5824a53d8bdd0080b8fb">BlockAddress</a>, uint16_t <a class="el" href="_dataflash_manager_8h.html#a178c3b4a0fc190e877fb7a9973584faf">TotalBlocks</a>)</td></tr>
<tr class="memdesc:ga724787b1f942b0326df0f844b043b8fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">DataRAM read blocks function.  <a href="#ga724787b1f942b0326df0f844b043b8fe"></a><br/></td></tr>
<tr class="separator:ga724787b1f942b0326df0f844b043b8fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2f854df2c03b39dd8a291e1d25722e43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga2f854df2c03b39dd8a291e1d25722e43">DataRam_Initialize</a> (void)</td></tr>
<tr class="memdesc:ga2f854df2c03b39dd8a291e1d25722e43"><td class="mdescLeft">&#160;</td><td class="mdescRight">DataRAM Initilisation function.  <a href="#ga2f854df2c03b39dd8a291e1d25722e43"></a><br/></td></tr>
<tr class="separator:ga2f854df2c03b39dd8a291e1d25722e43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga207ad2c904dcb3970c5ff29f68f7daac"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga207ad2c904dcb3970c5ff29f68f7daac">MassStorage_GetAddressInImage</a> (<a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> startblock, uint16_t requestblocks, uint16_t *availableblocks)</td></tr>
<tr class="memdesc:ga207ad2c904dcb3970c5ff29f68f7daac"><td class="mdescLeft">&#160;</td><td class="mdescRight">DataRAM read blocks function.  <a href="#ga207ad2c904dcb3970c5ff29f68f7daac"></a><br/></td></tr>
<tr class="separator:ga207ad2c904dcb3970c5ff29f68f7daac"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeff97648c9250a3d398bb0b74f040899"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#gaeff97648c9250a3d398bb0b74f040899">EVENT_USB_Device_Connect</a> (void)</td></tr>
<tr class="memdesc:gaeff97648c9250a3d398bb0b74f040899"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB Device connect event callback.  <a href="#gaeff97648c9250a3d398bb0b74f040899"></a><br/></td></tr>
<tr class="separator:gaeff97648c9250a3d398bb0b74f040899"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae88405d14d8d6dada9313520cb1501ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#gae88405d14d8d6dada9313520cb1501ec">EVENT_USB_Device_Disconnect</a> (void)</td></tr>
<tr class="memdesc:gae88405d14d8d6dada9313520cb1501ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB Device disconnect event callback.  <a href="#gae88405d14d8d6dada9313520cb1501ec"></a><br/></td></tr>
<tr class="separator:gae88405d14d8d6dada9313520cb1501ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga953a275884b9e33629ff6323fca05252"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga953a275884b9e33629ff6323fca05252">EVENT_USB_Device_ConfigurationChanged</a> (void)</td></tr>
<tr class="memdesc:ga953a275884b9e33629ff6323fca05252"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB Device configuration change event callback.  <a href="#ga953a275884b9e33629ff6323fca05252"></a><br/></td></tr>
<tr class="separator:ga953a275884b9e33629ff6323fca05252"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3f4ce439a74a152e3c8ffda5c7dd201a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga3f4ce439a74a152e3c8ffda5c7dd201a">EVENT_USB_Device_ControlRequest</a> (void)</td></tr>
<tr class="memdesc:ga3f4ce439a74a152e3c8ffda5c7dd201a"><td class="mdescLeft">&#160;</td><td class="mdescRight">USB Device control request receive event callback.  <a href="#ga3f4ce439a74a152e3c8ffda5c7dd201a"></a><br/></td></tr>
<tr class="separator:ga3f4ce439a74a152e3c8ffda5c7dd201a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga2ab82a996fd4af66f7359e75688e2c0d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___e_x_a_m_p_l_e___d_u_a_l_c_o_r_e___mass_storage.html#ga2ab82a996fd4af66f7359e75688e2c0d">CALLBACK_MS_Device_SCSICommandReceived</a> (<a class="el" href="struct_u_s_b___class_info___m_s___device__t.html">USB_ClassInfo_MS_Device_t</a> *const MSInterfaceInfo)</td></tr>
<tr class="memdesc:ga2ab82a996fd4af66f7359e75688e2c0d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Mass Storage class driver callback function.  <a href="#ga2ab82a996fd4af66f7359e75688e2c0d"></a><br/></td></tr>
<tr class="separator:ga2ab82a996fd4af66f7359e75688e2c0d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a class="anchor" id="ga8bbf5d8cbc2b7f0f5e0ac0d200cf234a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DISK_READ_ONLY&#160;&#160;&#160;false</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Indicates if the disk is write protected or not. </p>

<p>Definition at line <a class="el" href="usbmsdev_8h_source.html#l00098">98</a> of file <a class="el" href="usbmsdev_8h_source.html">usbmsdev.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga8e041687ba6fa46320c904de65419fa8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEDMASK_USB_BUSY&#160;&#160;&#160;<a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga067978238d36887c2c33d74e69f90bce">LEDS_LED2</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LED mask for the library LED driver, to indicate that the USB interface is busy. </p>

<p>Definition at line <a class="el" href="usbmsdev_8h_source.html#l00089">89</a> of file <a class="el" href="usbmsdev_8h_source.html">usbmsdev.h</a>.</p>

</div>
</div>
<a class="anchor" id="gae5f555e6ba3f29cf2683653715b2882b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEDMASK_USB_ENUMERATING&#160;&#160;&#160;(<a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga067978238d36887c2c33d74e69f90bce">LEDS_LED2</a> | <a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga5098266125f22427fe7b6bc41d6624c6">LEDS_LED3</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LED mask for the library LED driver, to indicate that the USB interface is enumerating. </p>

<p>Definition at line <a class="el" href="usbmsdev_8h_source.html#l00080">80</a> of file <a class="el" href="usbmsdev_8h_source.html">usbmsdev.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga9c02d2f661a67e5d895a637b1786e495"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEDMASK_USB_ERROR&#160;&#160;&#160;(<a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga07668d0bcd1025a056db2334373709b1">LEDS_LED1</a> | <a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga5098266125f22427fe7b6bc41d6624c6">LEDS_LED3</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LED mask for the library LED driver, to indicate that an error has occurred in the USB interface. </p>

<p>Definition at line <a class="el" href="usbmsdev_8h_source.html#l00086">86</a> of file <a class="el" href="usbmsdev_8h_source.html">usbmsdev.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga35a06cf522ba5b8ef837c8c5e0bee17b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEDMASK_USB_NOTREADY&#160;&#160;&#160;<a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga07668d0bcd1025a056db2334373709b1">LEDS_LED1</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LED mask for the library LED driver, to indicate that the USB interface is not ready. </p>

<p>Definition at line <a class="el" href="usbmsdev_8h_source.html#l00077">77</a> of file <a class="el" href="usbmsdev_8h_source.html">usbmsdev.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga1bdfeb2384ab943afb611716fb2034ee"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LEDMASK_USB_READY&#160;&#160;&#160;(<a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga067978238d36887c2c33d74e69f90bce">LEDS_LED2</a> | <a class="el" href="group___b_o_a_r_d___n_g_x___x_p_l_o_r_e_r__18304330.html#ga1a6ab96957b8bca4e03a9eda35798611">LEDS_LED4</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>LED mask for the library LED driver, to indicate that the USB interface is ready. </p>

<p>Definition at line <a class="el" href="usbmsdev_8h_source.html#l00083">83</a> of file <a class="el" href="usbmsdev_8h_source.html">usbmsdev.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga74ba398e7640ffa25cfd45e346ba7c17"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define LUN_MEDIA_BLOCKS&#160;&#160;&#160;(<a class="el" href="_data_ram_8h.html#a8a35bb45c35f767e6a567917bc28a303">VIRTUAL_MEMORY_BLOCKS</a> / <a class="el" href="group___mass___storage___device___definition.html#ga50367256bfbc0d0b9d6fd42fb63e78a9">TOTAL_LUNS</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Blocks in each LUN, calculated from the total capacity divided by the total number of Logical Units in the device. </p>

<p>Definition at line <a class="el" href="usbmsdev_8h_source.html#l00095">95</a> of file <a class="el" href="usbmsdev_8h_source.html">usbmsdev.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga50367256bfbc0d0b9d6fd42fb63e78a9"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TOTAL_LUNS&#160;&#160;&#160;1</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Total number of logical drives within the device - must be non-zero. </p>

<p>Definition at line <a class="el" href="usbmsdev_8h_source.html#l00092">92</a> of file <a class="el" href="usbmsdev_8h_source.html">usbmsdev.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga46b701cd2078c2091bd4678e38ce8e64"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VIRTUAL_MEMORY_BLOCK_SIZE&#160;&#160;&#160;512</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Block size of the device. This is kept at 512 to remain compatible with the OS despite the underlying storage media (Dataflash) using a different native block size. Do not change this value. </p>

<p>Definition at line <a class="el" href="ramdisk_8h_source.html#l00080">80</a> of file <a class="el" href="ramdisk_8h_source.html">ramdisk.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga8a35bb45c35f767e6a567917bc28a303"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VIRTUAL_MEMORY_BLOCKS&#160;&#160;&#160;(<a class="el" href="_data_ram_8h.html#a75e71d42353f289bf69072860957f892">VIRTUAL_MEMORY_BYTES</a> / <a class="el" href="_data_ram_8h.html#a46b701cd2078c2091bd4678e38ce8e64">VIRTUAL_MEMORY_BLOCK_SIZE</a>)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Total number of blocks of the virtual memory for reporting to the host as the device's total capacity. Do not change this value; change VIRTUAL_MEMORY_BYTES instead to alter the media size. </p>

<p>Definition at line <a class="el" href="ramdisk_8h_source.html#l00085">85</a> of file <a class="el" href="ramdisk_8h_source.html">ramdisk.h</a>.</p>

</div>
</div>
<a class="anchor" id="ga75e71d42353f289bf69072860957f892"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define VIRTUAL_MEMORY_BYTES&#160;&#160;&#160;DATA_RAM_VIRTUAL_SIZE</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Start address and size of RAM area which used for disk image Total number of bytes of the storage medium, comprised of one or more Dataflash ICs. </p>

<p>Definition at line <a class="el" href="ramdisk_8h_source.html#l00075">75</a> of file <a class="el" href="ramdisk_8h_source.html">ramdisk.h</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga2ab82a996fd4af66f7359e75688e2c0d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool CALLBACK_MS_Device_SCSICommandReceived </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_s_b___class_info___m_s___device__t.html">USB_ClassInfo_MS_Device_t</a> *const&#160;</td>
          <td class="paramname"><em>MSInterfaceInfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Mass Storage class driver callback function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MSInterfaceInfo</td><td>: Pointer to the Mass Storage class interface configuration structure </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true : On success </dd></dl>
<dl class="section note"><dt>Note</dt><dd>false : On failure Mass Storage class driver callback function for the reception of SCSI commands from the host, which must be processed.</dd></dl>
<p>Mass Storage class driver callback function.</p>
<p>Mass Storage class driver callback function the reception of SCSI commands from the host, which must be processed.</p>
<p>Mass Storage class driver callback function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MSInterfaceInfo</td><td>: Pointer to a structure containing a Mass Storage Class configuration and state.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Boolean <code>true</code> if the SCSI command was successfully processed, <code>false</code> otherwise.</dd></dl>
<p>Mass Storage class driver callback function the reception of SCSI commands from the host, which must be processed.</p>
<p>Mass Storage class driver callback for the user processing of a received SCSI command. This callback will fire each time the host sends a SCSI command which requires processing by the user application. Inside this callback the user is responsible for the processing of the received SCSI command from the host. The SCSI command is available in the CommandBlock structure inside the Mass Storage class state structure passed as a parameter to the callback function.</p>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>
<dl class="section note"><dt>Note</dt><dd>The reception of SCSI commands from the host, which must be processed </dd></dl>

<p>Definition at line <a class="el" href="usbmsdev_8c_source.html#l00332">332</a> of file <a class="el" href="usbmsdev_8c_source.html">usbmsdev.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga2f854df2c03b39dd8a291e1d25722e43"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DataRam_Initialize </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DataRAM Initilisation function. </p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This function will initialise the file system. </dd></dl>

<p>Definition at line <a class="el" href="ramdisk_8c_source.html#l00235">235</a> of file <a class="el" href="ramdisk_8c_source.html">ramdisk.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga724787b1f942b0326df0f844b043b8fe"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DataRam_ReadBlocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_s_b___class_info___m_s___device__t.html">USB_ClassInfo_MS_Device_t</a> *const&#160;</td>
          <td class="paramname"><em>MSInterfaceInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>BlockAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>TotalBlocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DataRAM read blocks function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MSInterfaceInfo</td><td>: Pointer to a structure containing a Mass Storage Class configuration and state </td></tr>
    <tr><td class="paramname">BlockAddress</td><td>: Data block starting address for the read sequence </td></tr>
    <tr><td class="paramname">TotalBlocks</td><td>: Number of blocks of data to read </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Reads blocks (OS blocks, not DataRAM pages) from the storage medium, the board DataRAM IC(s), into the pre-selected data IN endpoint. This routine reads in DataRAM page sized blocks from the DataRAM and writes them in OS sized blocks to the endpoint.</dd></dl>
<p>DataRAM read blocks function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MSInterfaceInfo</td><td>: Pointer to a structure containing a Mass Storage Class configuration and state </td></tr>
    <tr><td class="paramname">BlockAddress</td><td>: Data block starting address for the read sequence </td></tr>
    <tr><td class="paramname">TotalBlocks</td><td>: Number of blocks of data to read </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ramdisk_8c_source.html#l00186">186</a> of file <a class="el" href="ramdisk_8c_source.html">ramdisk.c</a>.</p>

</div>
</div>
<a class="anchor" id="gad7194f8e123c9446822f947d4b394d13"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void DataRam_WriteBlocks </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_u_s_b___class_info___m_s___device__t.html">USB_ClassInfo_MS_Device_t</a> *const&#160;</td>
          <td class="paramname"><em>MSInterfaceInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>BlockAddress</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>TotalBlocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DataRAM write blocks function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MSInterfaceInfo</td><td>: Pointer to a structure containing a Mass Storage Class configuration and state </td></tr>
    <tr><td class="paramname">BlockAddress</td><td>: Data block starting address for the write sequence </td></tr>
    <tr><td class="paramname">TotalBlocks</td><td>: Number of blocks of data to write </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Writes blocks (OS blocks, not DataRAM pages) to the storage medium, the board DataRAM IC(s), from the pre-selected data OUT endpoint. This routine reads in OS sized blocks from the endpoint and writes them to the DataRAM in DataRAM page sized blocks.</dd></dl>
<p>DataRAM write blocks function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MSInterfaceInfo</td><td>: Pointer to a structure containing a Mass Storage Class configuration and state </td></tr>
    <tr><td class="paramname">BlockAddress</td><td>: Data block starting address for the write sequence </td></tr>
    <tr><td class="paramname">TotalBlocks</td><td>: Number of blocks of data to write </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ramdisk_8c_source.html#l00158">158</a> of file <a class="el" href="ramdisk_8c_source.html">ramdisk.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga953a275884b9e33629ff6323fca05252"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Device_ConfigurationChanged </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>USB Device configuration change event callback. </p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This is the USB Device configuration change event call back function</dd></dl>
<p>Event handler for the library USB Configuration Changed event.</p>
<p>Event for USB configuration number changed. This event fires when a the USB host changes the selected configuration number while in device mode. This event should be hooked in device applications to create the endpoints and configure the device for the selected configuration.</p>
<p>This event is time-critical; exceeding OS-specific delays within this event handler (typically of around one second) will prevent the device from enumerating correctly.</p>
<p>This event fires after the value of <a class="el" href="group___group___device.html#ga26cf8d64d6fef38fe329e4c86e549a67">USB_Device_ConfigurationNumber</a> has been changed.</p>
<dl class="section note"><dt>Note</dt><dd>This event does not exist if the <code>USB_HOST_ONLY</code> token is supplied to the compiler (see <a class="el" href="group___group___u_s_b_management.html">USB Interface Management</a> documentation).</dd></dl>
<p>Event handler for the library USB Configuration Changed event.</p>
<p>USB Device configuration change event callback.</p>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p>Definition at line <a class="el" href="usbmsdev_8c_source.html#l00317">317</a> of file <a class="el" href="usbmsdev_8c_source.html">usbmsdev.c</a>.</p>

</div>
</div>
<a class="anchor" id="gaeff97648c9250a3d398bb0b74f040899"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Device_Connect </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>USB Device connect event callback. </p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This is the USB Device connect event call back function</dd></dl>
<p>Event handler for the library USB Connection event.</p>
<p>Event for USB device connection. This event fires when the microcontroller is in USB Device mode and the device is connected to a USB host, beginning the enumeration process measured by a rising level on the microcontroller's VBUS sense pin.</p>
<p>This event is time-critical; exceeding OS-specific delays within this event handler (typically of around two seconds) will prevent the device from enumerating correctly.</p>
<dl class="section note"><dt>Note</dt><dd>For the microcontrollers with limited USB controller functionality, VBUS sensing is not available. this means that the current connection state is derived from the bus suspension and wake up events by default, which is not always accurate (host may suspend the bus while still connected). If the actual connection state needs to be determined, VBUS should be routed to an external pin, and the auto-detect behaviour turned off by passing the <code>NO_LIMITED_CONTROLLER_CONNECT</code> token to the compiler via the -D switch at compile time. The connection and disconnection events may be manually fired, and the <a class="el" href="group___group___device.html#ga7b285b671bd8e7278c9d5af8c3869d29">USB_DeviceState</a> global changed manually. <br/>
<br/>
</dd>
<dd>
This event may fire multiple times during device enumeration on the microcontrollers with limited USB controllers if <code>NO_LIMITED_CONTROLLER_CONNECT</code> is not defined.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___group___u_s_b_management.html">USB Interface Management</a> for more information on the <a class="el" href="diskio_8c.html#a779bf099075a999d1074357fccbd466b">USB</a> management task and reducing CPU usage.</dd></dl>
<p>Event handler for the library USB Connection event.</p>
<p>USB Device connect event callback.</p>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p>Definition at line <a class="el" href="usbmsdev_8c_source.html#l00309">309</a> of file <a class="el" href="usbmsdev_8c_source.html">usbmsdev.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga3f4ce439a74a152e3c8ffda5c7dd201a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Device_ControlRequest </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>USB Device control request receive event callback. </p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This is the USB Device control request receive event call back function</dd></dl>
<p>Event handler for the library USB Control Request reception event.</p>
<p>Event for control requests. This event fires when a the USB host issues a control request to the mandatory device control endpoint (of address 0). This may either be a standard request that the library may have a handler code for internally, or a class specific request issued to the device which must be handled appropriately. If a request is not processed in the user application via this event, it will be passed to the library for processing internally if a suitable handler exists.</p>
<p>This event is time-critical; each packet within the request transaction must be acknowledged or sent within 50ms or the host will abort the transfer.</p>
<p>The library internally handles all standard control requests with the exceptions of SYNC FRAME, SET DESCRIPTOR and SET INTERFACE. These and all other non-standard control requests will be left for the user to process via this event if desired. If not handled in the user application or by the library internally, unknown requests are automatically STALLed.</p>
<dl class="section note"><dt>Note</dt><dd>This event does not exist if the <code>USB_HOST_ONLY</code> token is supplied to the compiler (see <a class="el" href="group___group___u_s_b_management.html">USB Interface Management</a> documentation). <br/>
<br/>
</dd>
<dd>
Requests should be handled in the same manner as described in the USB 2.0 Specification, or appropriate class specification. In all instances, the library has already read the request SETUP parameters into the <a class="el" href="group___group___u_s_b_management.html#ga65d2fd3e58c481b76998c44aee0b3a7b">USB_ControlRequest</a> structure which should then be used by the application to determine how to handle the issued request.</dd></dl>
<p>Event handler for the library USB Control Request reception event.</p>
<p>USB Device control request receive event callback.</p>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p>Definition at line <a class="el" href="usbmsdev_8c_source.html#l00325">325</a> of file <a class="el" href="usbmsdev_8c_source.html">usbmsdev.c</a>.</p>

</div>
</div>
<a class="anchor" id="gae88405d14d8d6dada9313520cb1501ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void EVENT_USB_Device_Disconnect </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>USB Device disconnect event callback. </p>
<dl class="section return"><dt>Returns</dt><dd>None </dd></dl>
<dl class="section note"><dt>Note</dt><dd>This is the USB Device disconnect event call back function</dd></dl>
<p>Event handler for the library USB Disconnection event.</p>
<p>Event for USB device disconnection. This event fires when the microcontroller is in USB Device mode and the device is disconnected from a host, measured by a falling level on the microcontroller's VBUS sense pin.</p>
<dl class="section note"><dt>Note</dt><dd>For the microcontrollers with limited USB controllers, VBUS sense is not available to the USB controller. this means that the current connection state is derived from the bus suspension and wake up events by default, which is not always accurate (host may suspend the bus while still connected). If the actual connection state needs to be determined, VBUS should be routed to an external pin, and the auto-detect behaviour turned off by passing the <code>NO_LIMITED_CONTROLLER_CONNECT</code> token to the compiler via the -D switch at compile time. The connection and disconnection events may be manually fired, and the <a class="el" href="group___group___device.html#ga7b285b671bd8e7278c9d5af8c3869d29">USB_DeviceState</a> global changed manually. <br/>
<br/>
</dd>
<dd>
This event may fire multiple times during device enumeration on the microcontrollers with limited USB controllers if <code>NO_LIMITED_CONTROLLER_CONNECT</code> is not defined.</dd></dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="group___group___u_s_b_management.html">USB Interface Management</a> for more information on the <a class="el" href="diskio_8c.html#a779bf099075a999d1074357fccbd466b">USB</a> management task and reducing CPU usage.</dd></dl>
<p>Event handler for the library USB Disconnection event.</p>
<p>USB Device disconnect event callback.</p>
<dl class="section return"><dt>Returns</dt><dd>Nothing </dd></dl>

<p>Definition at line <a class="el" href="usbmsdev_8c_source.html#l00313">313</a> of file <a class="el" href="usbmsdev_8c_source.html">usbmsdev.c</a>.</p>

</div>
</div>
<a class="anchor" id="ga207ad2c904dcb3970c5ff29f68f7daac"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a> MassStorage_GetAddressInImage </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_e_h_c_i_8h.html#ad14d3f736deaab092d7bc0dcb1430bc8">uint32_t</a>&#160;</td>
          <td class="paramname"><em>startblock</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>requestblocks</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>availableblocks</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DataRAM read blocks function. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">startblock</td><td>: Starting block number </td></tr>
    <tr><td class="paramname">requestblocks</td><td>: Number of requested blocks </td></tr>
    <tr><td class="paramname">availableblocks</td><td>: Pointer to number of available </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Address of file system data </dd></dl>
<dl class="section note"><dt>Note</dt><dd>Reads the data from file system image &amp; return with address &amp; number of available blocks </dd></dl>

<p>Definition at line <a class="el" href="ramdisk_8c_source.html#l00211">211</a> of file <a class="el" href="ramdisk_8c_source.html">ramdisk.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri May 10 2013 10:43:07 for LPCOpen Platform by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.2 </li>
  </ul>
</div>
</body>
</html>
